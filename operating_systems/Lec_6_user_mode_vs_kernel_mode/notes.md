### User Mode vs Kernel Mode

**User Mode:**
- **Definition:** The mode in which applications run by default when users interact with their computers.
- **Usage:** When using applications like text editors, media players, or office software, the system operates in user mode.
- **Access:** Limited access to system resources; cannot directly interact with hardware.

**Kernel Mode:**
- **Definition:** The mode where core functionalities of the operating system and major drivers operate.
- **Usage:** Handles tasks that require direct interaction with hardware, such as reading/writing files on the hard disk.
- **Access:** Full access to system resources and hardware.

### Example Scenario:
- **Using a Text Editor:** When writing a C program in a text editor (user mode), if the program needs to read/write a file, it requires a system call.
- **System Call:** A mechanism to request services from the kernel. For example, the `read()` system call to read data from a file.
- **Mode Switching:** The processor switches from user mode to kernel mode to execute the system call, then back to user mode once the task is completed.

![Image](https://github.com/user-attachments/assets/1eae1c36-8026-4423-9326-dd482864ea80)

### Importance:
- **Resource Management:** The operating system manages resources and ensures secure access to hardware.
- **Dual Mode Operation:** The system continuously switches between user mode and kernel mode to perform various tasks efficiently and securely.

### Practical Application:
- **Simple Calculations:** Tasks like `2+2=4` can be done in user mode without kernel intervention.
- **Output Display:** Printing results on the monitor requires a system call, as the monitor is controlled by the operating system.

userland vs kernel in windows
![Image](https://github.com/user-attachments/assets/b28043bd-4d69-45fc-b1bf-b9f7ab1a9a92)

Trap in an operating system
![Image](https://github.com/user-attachments/assets/6568f16b-3dbf-4491-b0e7-c32ecd3b04ad)
https://stackoverflow.com/questions/3149175/what-is-the-difference-between-trap-and-interrupt
- A trap is an exception in a user process. It's caused by division by zero or invalid memory access. It's also the usual way to invoke a kernel routine (a system call) because those run with a higher priority than user code. Handling is synchronous (so the user code is suspended and continues afterwards). In a sense they are "active" - most of the time, the code expects the trap to happen and relies on this fact.
- An interrupt is something generated by the hardware (devices like the hard disk, graphics card, I/O ports, etc). These are asynchronous (i.e. they don't happen at predictable places in the user code) or "passive" since the interrupt handler has to wait for them to happen eventually.
- https://www.geeksforgeeks.org/traps-and-system-calls-in-operating-system-os/

### Basic idea on how CPU switches from user to kernel mode
- https://stackoverflow.com/questions/2479118/cpu-switches-from-user-mode-to-kernel-mode-what-exactly-does-it-do-how-does-i
- https://www.geeksforgeeks.org/user-mode-and-kernel-mode-switching/
